<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenAPI Validator ãƒ†ã‚¹ãƒˆ</title>
  <style>
    :root {
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --bg-tertiary: #334155;
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --accent: #38bdf8;
      --success: #22c55e;
      --error: #ef4444;
      --warning: #f59e0b;
      --border: #475569;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      padding: 2rem;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    h1 {
      font-size: 1.75rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      color: var(--accent);
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    h1::before {
      content: 'ğŸ•';
      font-size: 2rem;
    }

    .controls {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .control-group {
      background: var(--bg-secondary);
      border-radius: 0.75rem;
      padding: 1.25rem;
      border: 1px solid var(--border);
    }

    .control-group h2 {
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text-secondary);
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    label {
      display: block;
      font-size: 0.75rem;
      color: var(--text-secondary);
      margin-bottom: 0.5rem;
    }

    input, textarea, select {
      width: 100%;
      padding: 0.75rem;
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      border-radius: 0.5rem;
      color: var(--text-primary);
      font-family: inherit;
      font-size: 0.875rem;
      margin-bottom: 1rem;
    }

    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.2);
    }

    textarea {
      min-height: 150px;
      resize: vertical;
    }

    .button-group {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    button {
      padding: 0.75rem 1.5rem;
      background: var(--accent);
      color: var(--bg-primary);
      border: none;
      border-radius: 0.5rem;
      font-family: inherit;
      font-size: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    button:hover {
      background: #7dd3fc;
      transform: translateY(-1px);
    }

    button:active {
      transform: translateY(0);
    }

    button.secondary {
      background: var(--bg-tertiary);
      color: var(--text-primary);
    }

    button.secondary:hover {
      background: var(--border);
    }

    button.danger {
      background: var(--error);
    }

    button.danger:hover {
      background: #f87171;
    }

    .results {
      background: var(--bg-secondary);
      border-radius: 0.75rem;
      border: 1px solid var(--border);
      overflow: hidden;
    }

    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.25rem;
      background: var(--bg-tertiary);
      border-bottom: 1px solid var(--border);
    }

    .results-header h2 {
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .stats {
      display: flex;
      gap: 1.5rem;
    }

    .stat {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.875rem;
    }

    .stat-value {
      font-weight: 600;
    }

    .stat-value.success {
      color: var(--success);
    }

    .stat-value.error {
      color: var(--error);
    }

    #results {
      padding: 1.25rem;
      max-height: 600px;
      overflow-y: auto;
    }

    .result-item {
      background: var(--bg-primary);
      border-radius: 0.5rem;
      margin-bottom: 1rem;
      overflow: hidden;
      border: 1px solid var(--border);
    }

    .result-item:last-child {
      margin-bottom: 0;
    }

    .result-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .result-header:hover {
      background: var(--bg-secondary);
    }

    .result-method {
      font-size: 0.75rem;
      font-weight: 700;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
      min-width: 4rem;
      text-align: center;
    }

    .result-method.GET { background: #3b82f6; }
    .result-method.POST { background: #22c55e; }
    .result-method.PUT { background: #f59e0b; }
    .result-method.PATCH { background: #8b5cf6; }
    .result-method.DELETE { background: #ef4444; }

    .result-path {
      flex: 1;
      font-size: 0.875rem;
      color: var(--text-secondary);
    }

    .result-status {
      font-size: 0.875rem;
      font-weight: 600;
      padding: 0.25rem 0.75rem;
      border-radius: 1rem;
    }

    .result-status.valid {
      background: rgba(34, 197, 94, 0.2);
      color: var(--success);
    }

    .result-status.invalid {
      background: rgba(239, 68, 68, 0.2);
      color: var(--error);
    }

    .result-details {
      display: none;
      padding: 1rem;
      background: var(--bg-secondary);
      border-top: 1px solid var(--border);
    }

    .result-item.expanded .result-details {
      display: block;
    }

    .error-list {
      list-style: none;
    }

    .error-list li {
      padding: 0.75rem;
      background: rgba(239, 68, 68, 0.1);
      border-left: 3px solid var(--error);
      margin-bottom: 0.5rem;
      border-radius: 0 0.25rem 0.25rem 0;
      font-size: 0.875rem;
    }

    .error-list li:last-child {
      margin-bottom: 0;
    }

    .error-path {
      color: var(--text-secondary);
      font-size: 0.75rem;
      margin-bottom: 0.25rem;
    }

    .error-code {
      color: var(--warning);
      font-size: 0.75rem;
      font-weight: 600;
    }

    pre {
      background: var(--bg-primary);
      padding: 1rem;
      border-radius: 0.5rem;
      overflow-x: auto;
      font-size: 0.75rem;
      margin-top: 1rem;
    }

    .loading {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      color: var(--text-secondary);
    }

    .spinner {
      width: 24px;
      height: 24px;
      border: 3px solid var(--border);
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 1rem;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .empty-state {
      text-align: center;
      padding: 3rem;
      color: var(--text-secondary);
    }

    .empty-state::before {
      content: 'ğŸ“‹';
      display: block;
      font-size: 3rem;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>OpenAPI Validator ãƒ†ã‚¹ãƒˆ</h1>

    <div class="controls">
      <div class="control-group">
        <h2>è¨­å®š</h2>
        <label for="baseUrl">ãƒ™ãƒ¼ã‚¹URL</label>
        <input type="text" id="baseUrl" value="http://localhost:3001" placeholder="http://localhost:3001">

        <label for="specUrl">OpenAPIä»•æ§˜æ›¸URLï¼ˆã¾ãŸã¯ç›´æ¥å…¥åŠ›ï¼‰</label>
        <input type="text" id="specUrl" value="http://localhost:3001/openapi.yaml" placeholder="http://localhost:3001/openapi.yaml">

        <label for="specContent">ä»•æ§˜æ›¸ï¼ˆYAML/JSONï¼‰</label>
        <textarea id="specContent" placeholder="OpenAPIä»•æ§˜æ›¸ã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã‹ã€URLã‹ã‚‰èª­ã¿è¾¼ã‚“ã§ãã ã•ã„"></textarea>

        <div class="button-group">
          <button id="loadSpec">ä»•æ§˜æ›¸ã‚’èª­ã¿è¾¼ã‚€</button>
          <button id="clearSpec" class="secondary">ã‚¯ãƒªã‚¢</button>
        </div>
      </div>

      <div class="control-group">
        <h2>ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</h2>
        <label for="testTarget">ãƒ†ã‚¹ãƒˆå¯¾è±¡</label>
        <select id="testTarget">
          <option value="all">ã™ã¹ã¦</option>
          <option value="users">Users API</option>
          <option value="posts">Posts API</option>
          <option value="errors">ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹</option>
        </select>

        <label>ã‚µãƒ¼ãƒãƒ¼é¸æŠ</label>
        <div class="button-group">
          <button id="runTestNormal">æ­£å¸¸ã‚µãƒ¼ãƒãƒ¼ (3001)</button>
          <button id="runTestMiss" class="danger">é•åã‚µãƒ¼ãƒãƒ¼ (3001)</button>
        </div>

        <div style="margin-top: 1rem;">
          <label>ã‚¯ã‚¤ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ</label>
          <div class="button-group">
            <button id="testSingleRequest" class="secondary">å˜ä¸€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</button>
          </div>
        </div>
      </div>
    </div>

    <div class="results">
      <div class="results-header">
        <h2>ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœ</h2>
        <div class="stats">
          <div class="stat">
            <span>æˆåŠŸ:</span>
            <span class="stat-value success" id="successCount">0</span>
          </div>
          <div class="stat">
            <span>å¤±æ•—:</span>
            <span class="stat-value error" id="errorCount">0</span>
          </div>
        </div>
      </div>
      <div id="results">
        <div class="empty-state">
          ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
        </div>
      </div>
    </div>
  </div>

  <!-- ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’èª­ã¿è¾¼ã¿ -->
  <script src="./validator.js"></script>
  
  <script>
    // =============================================================================
    // ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©ï¼ˆtest-cases.mjsã‹ã‚‰ç§»æ¤ï¼‰
    // =============================================================================
    const SAMPLE_USER_ID = '550e8400-e29b-41d4-a716-446655440001';
    const SAMPLE_POST_ID = 1;
    const SAMPLE_COMMENT_ID = '660e8400-e29b-41d4-a716-446655440001';

    const usersTests = [
      { method: 'GET', path: '/users', body: null, desc: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾—' },
      { method: 'GET', path: '/users?page=1&limit=10&status=active&sort=name', body: null, desc: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ä»˜ãï¼‰' },
      { method: 'GET', path: `/users/${SAMPLE_USER_ID}`, body: null, desc: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°å–å¾—' },
      { method: 'POST', path: '/users', body: { email: 'newuser@example.com', name: 'æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼', password: 'password123', age: 28 }, desc: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ' },
      { method: 'PUT', path: `/users/${SAMPLE_USER_ID}`, body: { email: 'updated@example.com', name: 'æ›´æ–°ã•ã‚ŒãŸåå‰', age: 31, status: 'active' }, desc: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°ï¼ˆå®Œå…¨ç½®æ›ï¼‰' },
      { method: 'PATCH', path: `/users/${SAMPLE_USER_ID}?notifyUser=true`, body: { name: 'éƒ¨åˆ†æ›´æ–°ã•ã‚ŒãŸåå‰', status: 'inactive' }, desc: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼éƒ¨åˆ†æ›´æ–°' },
      { method: 'DELETE', path: `/users/${SAMPLE_USER_ID}?permanent=false`, body: null, desc: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤ï¼ˆè«–ç†å‰Šé™¤ï¼‰' },
    ];

    const postsTests = [
      { method: 'POST', path: '/posts', body: { title: 'æ–°ã—ã„æŠ•ç¨¿ã‚¿ã‚¤ãƒˆãƒ«', content: 'ã“ã‚Œã¯æ–°ã—ã„æŠ•ç¨¿ã®å†…å®¹ã§ã™ã€‚', authorId: SAMPLE_USER_ID, categoryIds: [1, 2, 3] }, desc: 'æŠ•ç¨¿ä½œæˆ' },
      { method: 'PUT', path: `/posts/${SAMPLE_POST_ID}`, body: { title: 'æ›´æ–°ã•ã‚ŒãŸã‚¿ã‚¤ãƒˆãƒ«', content: 'æ›´æ–°ã•ã‚ŒãŸå†…å®¹ã§ã™', status: 'published' }, desc: 'æŠ•ç¨¿æ›´æ–°ï¼ˆå®Œå…¨ç½®æ›ï¼‰' },
      { method: 'PATCH', path: `/posts/${SAMPLE_POST_ID}/status?reason=ãƒ†ã‚¹ãƒˆå¤‰æ›´`, body: { status: 'archived', comment: 'ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã«å¤‰æ›´' }, desc: 'æŠ•ç¨¿ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°' },
      { method: 'DELETE', path: `/posts/${SAMPLE_POST_ID}`, body: null, desc: 'æŠ•ç¨¿å‰Šé™¤' },
    ];

    const errorTests = [
      { method: 'GET', path: '/helloworld', body: null, desc: 'å­˜åœ¨ã—ãªã„ãƒ‘ã‚¹ (404)' },
      { method: 'GET', path: '/users/00000000-0000-0000-0000-000000000000', body: null, desc: 'å­˜åœ¨ã—ãªã„ãƒ¦ãƒ¼ã‚¶ãƒ¼' },
      { method: 'POST', path: '/users', body: { name: 'ãƒ†ã‚¹ãƒˆ' }, desc: 'å¿…é ˆé …ç›®ä¸è¶³: email, password' },
    ];

    const allTestCases = { users: usersTests, posts: postsTests, errors: errorTests };

    // =============================================================================
    // çŠ¶æ…‹ç®¡ç†
    // =============================================================================
    let validator = null;
    let results = [];
    let successCount = 0;
    let errorCount = 0;

    // =============================================================================
    // DOMè¦ç´ 
    // =============================================================================
    const baseUrlInput = document.getElementById('baseUrl');
    const specUrlInput = document.getElementById('specUrl');
    const specContentInput = document.getElementById('specContent');
    const testTargetSelect = document.getElementById('testTarget');
    const resultsContainer = document.getElementById('results');
    const successCountEl = document.getElementById('successCount');
    const errorCountEl = document.getElementById('errorCount');

    // =============================================================================
    // ä»•æ§˜æ›¸ã®èª­ã¿è¾¼ã¿
    // =============================================================================
    document.getElementById('loadSpec').addEventListener('click', async () => {
      const specUrl = specUrlInput.value.trim();
      
      if (!specUrl) {
        alert('ä»•æ§˜æ›¸ã®URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
        return;
      }

      try {
        const response = await fetch(specUrl);
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }
        const content = await response.text();
        specContentInput.value = content;
        
        // ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’åˆæœŸåŒ–
        validator = OpenAPIValidator.fromString(content);
        alert('ä»•æ§˜æ›¸ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸï¼ãƒ‘ã‚¹æ•°: ' + Object.keys(validator.getSpec().paths).length);
      } catch (err) {
        alert('ä»•æ§˜æ›¸ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + err.message);
      }
    });

    document.getElementById('clearSpec').addEventListener('click', () => {
      specContentInput.value = '';
      validator = null;
      clearResults();
    });

    // =============================================================================
    // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
    // =============================================================================
    async function runTests(isMissServer = false) {
      // ä»•æ§˜æ›¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
      const specContent = specContentInput.value.trim();
      if (!specContent) {
        alert('å…ˆã«ä»•æ§˜æ›¸ã‚’èª­ã¿è¾¼ã‚“ã§ãã ã•ã„');
        return;
      }

      // ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’åˆæœŸåŒ–
      if (!validator) {
        try {
          validator = OpenAPIValidator.fromString(specContent);
        } catch (err) {
          alert('ä»•æ§˜æ›¸ã®ãƒ‘ãƒ¼ã‚¹ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + err.message);
          return;
        }
      }

      const baseUrl = baseUrlInput.value.trim();
      const testTarget = testTargetSelect.value;

      // ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’é¸æŠ
      let tests = [];
      if (testTarget === 'all') {
        tests = [...usersTests, ...postsTests, ...errorTests];
      } else {
        tests = allTestCases[testTarget] || [];
      }

      // çµæœã‚’ã‚¯ãƒªã‚¢
      clearResults();
      resultsContainer.innerHTML = '<div class="loading"><div class="spinner"></div>ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>';

      results = [];
      successCount = 0;
      errorCount = 0;

      for (const test of tests) {
        await runSingleTest(baseUrl, test);
      }

      // çµæœã‚’è¡¨ç¤º
      renderResults();
    }

    async function runSingleTest(baseUrl, test) {
      const { method, path, body, desc } = test;
      const url = baseUrl + path;

      const result = {
        method,
        path,
        desc,
        requestValid: true,
        requestErrors: [],
        responseValid: true,
        responseErrors: [],
        response: null,
        statusCode: null
      };

      // ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
      const requestResult = validator.validateRequest({
        method: method.toLowerCase(),
        path,
        body
      });

      result.requestValid = requestResult.valid;
      result.requestErrors = requestResult.errors;

      // APIã‚’å‘¼ã³å‡ºã—
      try {
        const options = {
          method,
          headers: { 'Content-Type': 'application/json' }
        };
        if (body) {
          options.body = JSON.stringify(body);
        }

        const response = await fetch(url, options);
        result.statusCode = response.status;

        let responseBody = null;
        if (response.status !== 204) {
          try {
            responseBody = await response.json();
            result.response = responseBody;
          } catch {
            // JSONãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼
          }
        }

        // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        const responseResult = validator.validateResponse(
          { method: method.toLowerCase(), path },
          { statusCode: response.status, body: responseBody }
        );

        result.responseValid = responseResult.valid;
        result.responseErrors = responseResult.errors;

      } catch (err) {
        result.responseErrors = [{ message: 'ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¤±æ•—: ' + err.message }];
        result.responseValid = false;
      }

      // ã‚«ã‚¦ãƒ³ãƒˆæ›´æ–°
      if (result.requestValid && result.responseValid) {
        successCount++;
      } else {
        errorCount++;
      }

      results.push(result);
    }

    function clearResults() {
      results = [];
      successCount = 0;
      errorCount = 0;
      successCountEl.textContent = '0';
      errorCountEl.textContent = '0';
      resultsContainer.innerHTML = '<div class="empty-state">ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„</div>';
    }

    function renderResults() {
      successCountEl.textContent = successCount;
      errorCountEl.textContent = errorCount;

      if (results.length === 0) {
        resultsContainer.innerHTML = '<div class="empty-state">çµæœãŒã‚ã‚Šã¾ã›ã‚“</div>';
        return;
      }

      let html = '';
      for (const result of results) {
        const isValid = result.requestValid && result.responseValid;
        const allErrors = [...result.requestErrors, ...result.responseErrors];

        html += `
          <div class="result-item ${!isValid ? 'expanded' : ''}" onclick="this.classList.toggle('expanded')">
            <div class="result-header">
              <span class="result-method ${result.method}">${result.method}</span>
              <span class="result-path">${result.path} - ${result.desc}</span>
              <span class="result-status ${isValid ? 'valid' : 'invalid'}">
                ${isValid ? 'âœ“ OK' : 'âœ— NG'}
              </span>
            </div>
            <div class="result-details">
              ${result.statusCode ? `<p>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰: ${result.statusCode}</p>` : ''}
              ${allErrors.length > 0 ? `
                <h4 style="margin: 1rem 0 0.5rem; color: var(--error);">ã‚¨ãƒ©ãƒ¼ (${allErrors.length}ä»¶)</h4>
                <ul class="error-list">
                  ${allErrors.map(e => `
                    <li>
                      ${e.path ? `<div class="error-path">${e.path}</div>` : ''}
                      <div>${e.message}</div>
                      ${e.errorCode ? `<div class="error-code">${e.errorCode}</div>` : ''}
                    </li>
                  `).join('')}
                </ul>
              ` : ''}
              ${result.response ? `
                <h4 style="margin: 1rem 0 0.5rem; color: var(--text-secondary);">ãƒ¬ã‚¹ãƒãƒ³ã‚¹</h4>
                <pre>${JSON.stringify(result.response, null, 2)}</pre>
              ` : ''}
            </div>
          </div>
        `;
      }

      resultsContainer.innerHTML = html;
    }

    // =============================================================================
    // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
    // =============================================================================
    document.getElementById('runTestNormal').addEventListener('click', () => {
      runTests(false);
    });

    document.getElementById('runTestMiss').addEventListener('click', () => {
      runTests(true);
    });

    document.getElementById('testSingleRequest').addEventListener('click', async () => {
      const specContent = specContentInput.value.trim();
      if (!specContent) {
        alert('å…ˆã«ä»•æ§˜æ›¸ã‚’èª­ã¿è¾¼ã‚“ã§ãã ã•ã„');
        return;
      }

      if (!validator) {
        validator = OpenAPIValidator.fromString(specContent);
      }

      const baseUrl = baseUrlInput.value.trim();
      
      // GET /users ã§ãƒ†ã‚¹ãƒˆ
      clearResults();
      resultsContainer.innerHTML = '<div class="loading"><div class="spinner"></div>ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>';

      await runSingleTest(baseUrl, { method: 'GET', path: '/users', body: null, desc: 'å˜ä¸€ãƒ†ã‚¹ãƒˆ: GET /users' });
      
      renderResults();
    });
  </script>
</body>
</html>

